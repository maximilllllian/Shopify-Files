

<section class="section-container">
    <div class="section-title">
        <h1>{{ section.settings.section-title }}</h1>
    </div>
</section>
{%- for block in section.blocks -%}
    <div class="sub-section" id="sub-section">
        <h2 style="text-align: center;">{{ block.settings.name }}</h2>
        <section class="image-text-container">
            {%- if block.settings.image-size == "small" -%}
                <div class="image-container">
                    <img src="{{ block.settings.image.src | img_url: '350x' }}" alt="{{ block.settings.name }}">
                </div>
            {%- elsif block.settings.image-size == "medium" -%}
                <div class="image-container">
                    <img src="{{ block.settings.image.src | img_url: '500x' }}" alt="{{ block.settings.name }}">
                </div>
            {%- elsif block.settings.image-size == "large" -%}
                <div class="image-container">
                    <img src="{{ block.settings.image.src | img_url: '700x' }}" alt="{{ block.settings.name }}">
                </div>
            {%- endif -%}
            <div class="map">{{ block.settings.map }}</div>
        </section>
        <h3 class="hours"> {{ block.settings.hours }}</h3>
        <h4 class="subtext-hours"> {{ block.settings.subtext }}</h4>
    </div>
{%- endfor -%}



{% schema %}
{
    "name": "Location with Image",
    "settings": [
        {
            "id": "section-title",
            "type": "text",
            "label": "Location Name"
        }
    ],
    "templates": ["index", "page"],
    "presets": [
            {
                "name": "Location with Image",
                "category": "location"
            }
        ],
    "blocks": [
        {
            "name": "Location",
            "type": "location",
            "settings": [
                {
                    "type": "text",
                    "id": "name",
                    "label": "Location Name"
                },
                {
                    "type": "image_picker",
                    "id": "image",
                    "label": "Location Image"
                },
                {
                    "type": "select",
                    "id": "image-size",
                    "label": "Image Size",
                    "options": [
                        {
                            "value": "small",
                            "label": "Small"
                        },
                        {
                            "value": "medium",
                            "label": "Medium"
                        },
                        {
                            "value": "large",
                            "label": "Large"
                        }
                    ],
                    "default": "medium"
                },
                {
                    "type": "html",
                    "id": "map",
                    "label": "Location HTML"
                },
                {
                    "type": "text",
                    "id": "hours",
                    "label": "Store Hours"
                },
                {
                    "type": "text",
                    "id": "subtext",
                    "label": "Hours Subtext"
                }                
            ]
        }
    ]
}
{% endschema %}

{% stylesheet %}
    img {
        max-width: 100%;
        min-height: 50%;
        min-width: 50%;
        height: auto;
        width: auto;
        padding: 25px 25px;
    }
    .section-title {
        text-align: center;
        justify-items: center;
    }
    .image-container{
        width: default;
        padding: 10px 10px;
    }
    .image-text-container{
        display: flex;
        justify-content: center;
        align-items: center;
    }
  
    @media screen and (min-width : 320px) and (max-width : 480px) {
        .image-text-container {
            display: flex;
            flex-direction: column;
            max-width: 100%;
            width: auto;

        }   
    }

    .sub-section {
        resize: both;
        position: relative;
        padding: 2rem;
        flex-wrap: wrap;
        display: column;
    }
    .map {
        position: relative;
        padding-bottom: 0%; // This is the aspect ratio
        height: 0;
        overflow: hidden;
      }
      .map iframe {
        top: 0;
        left: 0;
        padding: 25px 0px;
      }
    @media screen and (min-width : 320px) and (max-width : 480px) {
        .image-text-container {
            padding: 25px 25px;
        }
    }


    @media screen and (min-width : 320px) and (max-width : 480px) {
        .line {
            border-bottom: 2px solid #787878 !important;
            border-left: 0; 
            display: block;
            padding: 1px;
            height: 0;
            margin: 0;
            width: 400px;
        }
    }
    .hours {
        text-align: center;
        justify-content: center;
    }
    .subtext-hours{
        text-align: center;
        justify-content: center;
    }


{% endstylesheet %}

{% javascript %}
    
{% endjavascript %}